# 17~22. 스트림 만들기

## 스트림 만들기 - 컬렉션

---

- Collection 인터페이스의 stream()으로 컬렉션을 스트림으로 변환

```java
List<Integer> list = Arrays.asList(1,2,3,4,5);
Stream<Integer> intStream = list.stream(); // list를 스트림으로 변환

// 스트림의 모든 요소를 출력
intStream.forEach(System.out::print); // 12345
intStream.forEach(System.out::print); // 에러. 스트림이 이미 닫힘
```

## 스트림 만들기 - 배열

---

- 객체 배열로부터 스트림 생성하기

```java
Stream<String> strStream = Stream.of("a", "b", "c"); // 가변 인자
Stream<String> strStream = Stream.of(new String[]{"a", "b", "c"});
Stream<String> strStream = Arrays.stream(new String[]{"a", "b", "c"});
Stream<String> strStream = Arrays.stream(new String[]{"a", "b", "c"}, 0, 3);
```

- 기본형 배열로부터 스트림 생성하기

```java
IntStream IntStream.of(int... values) // Stream이 아니라 IntStream
IntStream IntStream.of(int[])
IntStream Arrays.stream(int[])
IntStream Arrays.stream(int[] array, int startInclusive, int endExclusive)
```

## 스트림 만들기 - 임의의 수

---

- 난수를 요소로 갖는 스트림 생성하기

```java
IntStream intStream = new Random().ints();       // 무한 난수 스트림 생성
intStream.limit(5).forEach(System.out::println); // 5개의 요소만 출력

IntStream intStream = new Random().ints(5);        // 5개짜리 유한 난수 스트림 생성
IntStream intStream = new Random().ints(5, 1, 11); // (1, 10)사이 5 요소 유한 난수 스트림
```

## 스트림 만들기 - 특정 범위의 정수

---

- 특정 범위의 정수를 요소로 갖는 스트림 생성하기 (IntStream, LongStream)

```java
IntStream intStream = IntStream.range(1, 5);       // 1,2,3,4
IntStream intStream = IntStream.rangeClosed(1, 5); // 1,2,3,4,5
```

## 스트림 만들기 - 람다식 iterate(), generate()

---

- 람다식을 소스로 하는 스트림 생성하기

```java
// iterate()는 이전 요소를 seed로 해서 다음 요소를 계산 (이전 요소에 종속적)
Stream<Integer> evenStream = Stream.iterate(0, n -> n+2);

// generate는 seed를 사용하지 않음 (이전 요소에 독립적)
Stream<Double> randomStream = Stream.generate(Math::random);
Stream<Integer> oneStream = Stream.generate(() -> 1);
```

## 스트림 만들기 - 파일과 빈 스트림

---

- 파일을 소스로 하는 스트림 생성하기

```java
Stream<Path> Files.list(Path dir); // Path는 파일 또는 디렉토리

Stream<String> Files.lines(Path dir);
Stream<String> Files.lines(Path dir, Charset cs);
Stream<String> lines(); // BufferedReader 클래스의 메서드
```

- 비어있는 스트림 생성하기

```java
Stream emptyStream = Stream.empty(); // empty()는 빈 스트림을 생성해서 반환
long count = emptyStream.count();    // count 값은 0
```